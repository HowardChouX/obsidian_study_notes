# 18.6 练习

---

## 事实性问题

1. 观察下图中的树结构。若执行`rotateLeft(C)`操作，需要执行何种操作才能使树恢复原状？

![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252F7PKxQWLKU3ast39LMctz%252Fimage.png%3Falt%3Dmedia%26token%3D010961b9-10f5-4e06-bfa5-8741b1271c59&width=300&dpr=4&quality=100&sign=640316d2&sv=2)

2. 当对树节点进行旋转操作时，以下哪些情况可能发生？
    - 若原树是有效二叉搜索树，旋转后可能失效
    - 树高可能保持不变
    - 树高可能增加
    - 树高可能减少
    - 节点数量可能改变
    - 树的根节点可能改变

---

### 问题1解答
`rotateRight(D)`。任何`rotateLeft`操作的逆操作都是对其左子节点执行`rotateRight`。

---

### 问题2解答
- **若原树是有效二叉搜索树，旋转后可能失效**：旋转操作始终保留搜索树特性
- **树高可能保持不变**：若旋转不涉及最底层叶节点时
- **树高可能增加**：当旋转影响最底层叶节点时
- **树高可能减少**：当旋转影响最底层叶节点时
- **节点数量可能改变**：旋转仅改变结构，不增减节点
- **树的根节点可能改变**：例如对根节点进行旋转时

---

## 操作流程题

1. 观察以下左倾红黑树（LLRB），其对应的2-3树高度是多少？包含多少个3节点？

![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252FA2z0qYcCYP7z6kk72VTu%252Fimage.png%3Falt%3Dmedia%26token%3D6134098f-151b-48ff-b114-2b6951908f00&width=300&dpr=4&quality=100&sign=2121f363&sv=2)

2. 若在上图LLRB中插入`15`，为维持LLRB特性需首先执行何种操作？
3. 插入过程中若出现以下临时4节点结构，其对应的LLRB表示形式是什么？

![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252FXUDlyE6JIydS0nY8daiZ%252Fimage.png%3Falt%3Dmedia%26token%3Dfc3c2c2f-b2fd-45c5-a02b-c650e2e303e9&width=300&dpr=4&quality=100&sign=2566e6cd&sv=2)

---

### 问题1解答
![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252F5V0vVGxJHCgnvuyVL8PP%252FCheck-in%252018%2520Q3%2520Answer%2520Img.png%3Falt%3Dmedia%26token%3D702a9453-e545-448a-a4fb-21e65a670232&width=300&dpr=4&quality=100&sign=95807227&sv=2)

对应2-3树高度为1，包含两个3节点（`17 25`和`39 43`）

---

### 问题2解答
`15`插入至`13`右侧。由于禁止右倾红链接，需执行`rotateLeft(13)`

---

### 问题3解答
![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252Fxu3WTXgEe0OCECMr4TRP%252Fimage.png%3Falt%3Dmedia%26token%3D2f613884-3a27-4bae-9c42-727adaba830f&width=300&dpr=4&quality=100&sign=d758cc2a&sv=2)

---

## 元认知题

1. 给出插入下图LLRB树时会导致`rotateRight`作为首个平衡操作的数值范围（假设数值不重复且非整型）

![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252FA2z0qYcCYP7z6kk72VTu%252Fimage.png%3Falt%3Dmedia%26token%3D6134098f-151b-48ff-b114-2b6951908f00&width=300&dpr=4&quality=100&sign=2121f363&sv=2)

---

### 问题1解答
当连续出现两条红链接时需执行`rotateRight`。此情况发生于向`39`左子树插入值时，该值需大于`25`（位于其右分支）且小于`39`（作为39的左子节点）。最终范围：\\( (25,39) \\)

---

[上一章 18.5 总结](https://cs61b-2.gitbook.io/cs61b-textbook/18.-red-black-trees/18.5-summary) | [下一章 19. 哈希I](https://cs61b-2.gitbook.io/cs61b-textbook/19.-hashing-i)

最后更新于2年前
