# 14.1 å¼•è¨€

ğŸš¨ æ–°æ•°æ®ç»“æ„è­¦æŠ¥ ğŸš¨ï¼šä¸ç›¸äº¤é›†åˆ

äººä»¬ç”Ÿæ´»åœ¨å„è‡ªçš„å›½å®¶ä¸­ã€‚æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªå›½å®¶è§†ä¸ºä¸€ä¸ªé›†åˆï¼Œå…¶æ‰€æœ‰å…¬æ°‘ä½œä¸ºé›†åˆä¸­çš„å…ƒç´ ã€‚åŒä¸€ä¸ªäººä¸èƒ½åŒæ—¶ç”Ÿæ´»åœ¨ä¸¤ä¸ªä¸åŒå›½å®¶ã€‚æˆ‘ä»¬åˆšåˆšå»ºæ¨¡çš„æ­£æ˜¯**ä¸ç›¸äº¤é›†åˆ**ã€‚

> è‹¥ä¸¤ä¸ªé›†åˆæ— å…±åŒå…ƒç´ ï¼Œåˆ™ç§°ä¸ºä¸ç›¸äº¤é›†åˆã€‚ä¸ç›¸äº¤é›†åˆï¼ˆæˆ–ç§°å¹¶æŸ¥é›†ï¼‰æ•°æ®ç»“æ„è´Ÿè´£è¿½è¸ªå›ºå®šæ•°é‡çš„å…ƒç´ å¦‚ä½•è¢«åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ç›¸äº¤é›†åˆã€‚è¯¥æ•°æ®ç»“æ„åŒ…å«ä¸¤ç§æ“ä½œï¼š

1. `è¿æ¥(x, y)`: è¿æ¥`x`å’Œ`y`ï¼Œäº¦ç§°`è”åˆ`
    
2. `æ˜¯å¦è¿æ¥(x, y)`: è‹¥`x`å’Œ`y`è¿é€šï¼ˆå³åŒå±ä¸€ä¸ªé›†åˆï¼‰è¿”å›çœŸ
    

Hugæ•™æˆå¯¹ä¸ç›¸äº¤é›†åˆçš„å…¥é—¨è®²è§£

ä¸ç›¸äº¤é›†åˆæ•°æ®ç»“æ„åŒ…å«å›ºå®šæ•°é‡çš„å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ åˆå§‹ä½äºç‹¬ç«‹å­é›†ã€‚é€šè¿‡å¯¹æŸäº›å…ƒç´ `x`å’Œ`y`è°ƒç”¨`è¿æ¥(x, y)`ï¼Œæˆ‘ä»¬å°†å­é›†åˆå¹¶ã€‚

ä¾‹å¦‚ï¼Œè®¾æœ‰å››ä¸ªå…ƒç´ Aã€Bã€Cã€Dã€‚åˆå§‹æ—¶æ¯ä¸ªå…ƒç´ è‡ªæˆé›†åˆï¼š

![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252FxsyREPB2xGzGzysImVi8%252Fimage.png%3Falt%3Dmedia%26token%3D0db9231c-5ad3-4a15-9544-a8e05b15a3e3&width=768&dpr=4&quality=100&sign=84f288f9&sv=2)

{A} {B} {C} {D}

è°ƒç”¨`è¿æ¥(A, B)`åï¼š

![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252FcK0IfTA8wVVpfQwvbo21%252Fimage.png%3Falt%3Dmedia%26token%3Dd02dcfa4-ff7b-41a7-b69d-f622fb5e7f91&width=768&dpr=4&quality=100&sign=57f4f81b&sv=2)

{A, B} {C} {D}

æ³¨æ„Aå’ŒBæ‰€åœ¨å­é›†å·²è¢«åˆå¹¶ã€‚ä»¥ä¸‹`æ˜¯å¦è¿æ¥`è°ƒç”¨ç»“æœï¼š

`æ˜¯å¦è¿æ¥(A, B) -> çœŸ`

`æ˜¯å¦è¿æ¥(A, C) -> å‡`

è°ƒç”¨`è¿æ¥(A, D)`åï¼š

![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252FHFBnkVIp8P9SFO5BUuwM%252Fimage.png%3Falt%3Dmedia%26token%3Dfc98c635-c615-4697-837e-5e7f00546b5f&width=768&dpr=4&quality=100&sign=40545d64&sv=2)

{A, B, D} {C}

æ‰¾åˆ°Aæ‰€å±é›†åˆå¹¶ä¸Dæ‰€å±é›†åˆåˆå¹¶ï¼Œå½¢æˆAã€Bã€Då¤§é›†åˆã€‚Cä¿æŒç‹¬ç«‹ã€‚

`æ˜¯å¦è¿æ¥(A, D) -> çœŸ` `æ˜¯å¦è¿æ¥(A, C) -> å‡`

åŸºäºä¸Šè¿°ç›´è§‚ç†è§£ï¼Œæˆ‘ä»¬æ­£å¼å®šä¹‰ä¸ç›¸äº¤é›†åˆæ¥å£ã€‚è¯·æ³¨æ„ï¼Œ**æ¥å£**è§„å®šäº†æ•°æ®ç»“æ„åº”å…·å¤‡çš„è¡Œä¸ºï¼ˆè€Œéå®ç°æ–¹å¼ï¼‰ã€‚å› æ­¤ï¼Œä»»ä½•å®ç°`DisjointSets`æ¥å£çš„ç±»éƒ½å¿…é¡»åŒ…å«ä»¥ä¸‹å‡½æ•°ï¼š

```java
public interface DisjointSets {
    /** è¿æ¥ä¸¤ä¸ªå…ƒç´ på’Œq */
    void connect(int p, int q);

    /** æ£€æŸ¥ä¸¤ä¸ªå…ƒç´ æ˜¯å¦è¿é€š */
    boolean isConnected(int p, int q); 
}
```

ä½†å¦‚ä½•å­˜å‚¨æ•°æ®ä»¥è¿½è¸ªå…ƒç´ æ‰€å±é›†åˆï¼Ÿè¯¥ä½¿ç”¨ä½•ç§æ•°æ®ç»“æ„æ¥å‘ˆç°è¿™ä¸€ç²¾å¦™è®¾è®¡ï¼Ÿæœ¬ç« ä¸ä»…å°†å­¦ä¹ å¦‚ä½•å®ç°è¿·äººæ•°æ®ç»“æ„ï¼Œæ›´å°†è§è¯æ•°æ®ç»“æ„å®ç°çš„æ¼”åŒ–å†ç¨‹ã€‚æˆ‘ä»¬å°†è®¨è®ºå››ç§è®¾è®¡æ–¹æ¡ˆç›´è‡³æ»¡æ„ï¼š[_å¿«é€ŸæŸ¥æ‰¾_](https://cs61b-2.gitbook.io/cs61b-textbook/14.-disjoint-sets/14.2-quick-find) _â†’_ [_å¿«é€Ÿè”åˆ_](https://cs61b-2.gitbook.io/cs61b-textbook/14.-disjoint-sets/14.3-quick-union) _â†’_ [_å¸¦æƒå¿«é€Ÿè”åˆï¼ˆWQUï¼‰_](https://cs61b-2.gitbook.io/cs61b-textbook/14.-disjoint-sets/14.4-weighted-quick-union-wqu) _â†’_ [_è·¯å¾„å‹ç¼©WQU_](https://cs61b-2.gitbook.io/cs61b-textbook/14.-disjoint-sets/14.5-weighted-quick-union-with-path-compression)ã€‚**æˆ‘ä»¬å°†è§è¯è®¾è®¡å†³ç­–å¦‚ä½•æ˜¾è‘—å½±å“æ¸è¿›æ—¶é—´å¤æ‚åº¦å’Œä»£ç å¤æ‚åº¦ã€‚**