# 17.1 二叉搜索树的性能

---

## 树高

二叉搜索树存在一个显著特征：其形态范围可以从最佳情况的"茂密"树到最差情况的"细长"树。

在最佳情况下，树的高度为 Θ(logN)Θ(logN)；而在最差情况下，树的高度将达到 Θ(N)Θ(N)，此时其结构实质上已退化为链表。例如，在"细长"BST上执行`contains`操作将需要线性时间复杂度。

下图中两棵树的高度均为 H = 3，但左树能存储的数据量远超右树：

![](https://cs61b-2.gitbook.io/~gitbook/image?url=https%3A%2F%2F2316889115-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCLYj7ccqvV6l4Pt9R0w5%252Fuploads%252F7PJe5K8xiYxZ0HCTrjuh%252Fimage.png%3Falt%3Dmedia%26token%3D60c8be95-f3d4-4fd9-9f02-0e4375a31853&width=768&dpr=4&quality=100&sign=e6094cb8&sv=2)

---

```java
// 示例代码块保持原格式
public class BST {
    private Node root;
    
    private class Node {
        int key;
        Node left, right;
    }
}
```

---

数学公式示例：
$$
h_{best} = \lfloor \log_2 N \rfloor \\
h_{worst} = N-1
$$

---

表格示例（保留原始空白行要求）：

| 树型        | 高度复杂度 | 空间利用率 |
|-------------|------------|------------|
| 茂密型      | O(log N)   | 高         |
| 细长型      | O(N)       | 低         |

---