# 第5章 递归重要知识点测试题目

## 一、选择题（每题5分）

1. **递归定义题**
   在定义一个过程或函数时出现调用本过程或本函数的成分，称之为**递归**[1]。若调用自身，称之为**直接递归**[1]。若过程或函数A调用过程或函数B，而B又调用A，称之为**间接递归**[1]。以下哪项描述是正确的？
   A. 间接递归算法不能转换为直接递归算法
   B. 递归算法通常需要大量的代码来描述解题过程
   C. 递归策略只需少量的代码就可以描述出解题过程所需要的多次重复计算，大大减少了算法的代码量[2]
   D. 递归调用次数必须是无限的

2. **递归条件题**
   一般来说，能够用递归解决的问题应该满足以下3个条件[2]：
   3. 需要解决的问题可以转化为一个或多个子问题来求解，而这些子问题的求解方法与原问题完全相同，只是在数量规模上不同
   4. 递归调用的次数必须是有限的
   5. 必须有结束递归的条件来终止递归
 
   以下哪项不是递归问题的必要条件？
   A. 问题可以分解为子问题
   B. 子问题与原问题解法相同
   C. 必须有递归结束条件
   D. 子问题规模必须比原问题大

6. **递归模型题**
   递归模型是递归算法的抽象，它反映一个递归问题的递归结构[1]。一个递归模型由递归出口和递归体两部分组成[2]。例如，求n!的递归模型为：
   - f(n)=1 当n=1（递归出口）
   - f(n)=n*f(n-1) 当n>1（递归体）[1]
 
   以下关于递归模型的描述正确的是：
   A. 递归出口确定递归何时结束
   B. 递归体确定递归求解时的递推关系
   C. 递归出口和递归体都是必须的
   D. 以上都正确

4. **递归执行题**
   系统内部如何执行递归算法？一个递归函数的调用过程类似于多个函数的嵌套的调用，只不过调用函数和被调用函数是同一个函数[4]。为了保证递归函数的正确执行，系统需设立一个**工作栈**[4]。以下关于递归执行过程的描述错误的是：
   A. 工作栈结构包括值参、局部变量和返回地址
   B. 每次递归调用结束后，将栈顶元素出栈
   C. 递归调用时不需要保存当前状态
   D. 递归调用通过栈实现状态的保存和恢复

## 二、填空题（每题5分）

1. 递归算法通常通常把一个大的复杂问题层层转化为一个或多个与原问题相似的**规模较小的问题**来求解[2]。

2. 递归与数学归纳法有相似之处：递归出口相当于数学归纳法的**特殊情况**，递归体相当于数学归纳法的**归纳步骤**[4]。

3. 在递归算法中，用递归算法的形参值表示**状态**，由于递归算法执行中系统栈保存了递归调用的值参、局部变量和返回地址，所以在递归算法中一次递归调用后会自动恢复该次递归调用前的状态[2]。

4. 设计求解问题的递归模型的步骤是：（1）对原问题f(s)进行分析，称为"大问题"，假设出合理的"小问题"f(s')；（2）假设f(s')是可解的，在此基础上确定f(s)的解，即给出f(s)与f(s')之间的关系→**递归体**；（3）确定一个特定情况（如f(1)或f(0)）的解→**递归出口**[3]。

## 三、简答题（每题10分）

1. **递归的三个使用场景**
   根据参考材料，何时使用递归？请说明三种情况并举例[1][10]。

2. **递归模型的构建**
   以Hanoi塔问题为例，描述如何构建递归模型。设Hanoi(n, x, y, z)表示将n个盘片从x塔座借助y塔座移动到z塔座上，请写出递归模型[10]。

3. **递归算法的时空分析**
   递归算法执行过程不同于非递归算法，所以其时空分析也不同于非递归算法。非递归算法分析是定长时空分析，递归算法分析就是**变长时空分析**[14]。请解释为什么递归算法的时间复杂度分析需要建立递推式？

4. **Python中递归函数的参数**
   Python递归函数中的参数分为可变类型和不可变类型。不可变类型的参数保存在系统栈中，具有自动回退。可变类型的参数类似全局变量，不具有自动回退的功能[3]。请举例说明这两种参数在递归中的不同行为。

## 四、算法分析题（每题15分）

1. **Hanoi塔问题的时间复杂度分析**
   分析Hanoi塔递归算法的时间复杂度：
   ```python
   def Hanoi(n,X,Y,Z):
       if n==1:
           print("将第%d个盘片从%c移动到%c" %(n,X,Z))
       else:
           Hanoi(n-1,X,Z,Y)
           print("将第%d个盘片从%c移动到%c" %(n,X,Z))
           Hanoi(n-1,Y,X,Z)
   ```
   设大问题Hanoi(n, x, y, z)的执行时间为T(n)，则小问题Hanoi(n-1, x, y, z)的执行时间为T(n-1)[12]。请建立递推式并求解时间复杂度[12]。

2. **递归求数组最小值算法**
   分析以下递归算法的时间复杂度：
   ```python
   def Min(a,i):
       if i==0:
           return a[0]
       else:
           min = Min(a,i-1)
           if (min>a[i]):
               return a[i]
           else:
               return min
   ```
   对应的递归模型为[11]：
   - f(a, i) = a[0] 当i=0时
   - f(a, i) = MIN(f(a, i-1), a[i]) 其他情况
 
   请分析该算法的时间复杂度和空间复杂度。

## 五、程序设计题（20分）

**迷宫问题的递归求解**
采用递归算法求解迷宫问题，并输出从入口到出口的所有迷宫路径[13]。求解问题描述：mgpath(xi, yi, xe, ye, path)表示求从(xi, yi)到(xe, ye)的迷宫路径，用path变量保存迷宫路径[13]。

对应的递归模型如下[3]：
```
mgpath(xi,yi,xe,ye,path,d) ≡ 
    d++; 将(xi,yi)添加到path中; 
    置mg[xi][yi]=-1; 
    输出path中的迷宫路径; 
    恢复出口迷宫值为0即置mg[xe][ye]=0
    若(xi,yi)=(xe,ye)即找到出口

mgpath(xi,yi,xe,ye,path,d) ≡ 
    d++; 将(xi,yi)添加到path中; 
    置mg[xi][yi]=-1; 
    对于(xi,yi)每个相邻可走方块(i,j)，调用mgpath(i,j,xe,ye,path,d); 
    从(xi,yi)回退一步即置mg[xi][yi]=0;
    若(xi,yi)不是出口
```

请写出该递归算法的主要思路，并分析：
1. 算法的时间复杂度
2. 算法的空间复杂度
3. 与用栈和队列求解迷宫问题的异同点[6]

**提示**：参考迷宫问题的递归求解算法[3][13]。

---

**参考答案要点：**

一、选择题：
1. C[2] 2. D[2] 3. D[1][2] 4. C[4]

二、填空题：
1. 规模较小的问题[2]
2. 特殊情况，归纳步骤[4]
3. 状态[2]
4. 递归体，递归出口[3]

三、简答题：
1. 三种情况：[1][10]
   - 定义是递归的：如求n!和Fibonacci数列
   - 数据结构是递归的：如单链表
   - 问题的求解方法是递归的：如Hanoi问题
2. Hanoi塔递归模型：[10]
   - Hanoi(n, x, y, z) ≡ 当n=1时，直接将盘片从x移动到z
   - Hanoi(n, x, y, z) ≡ Hanoi(n-1, x, z, y); move(n, x, z); Hanoi(n-1, y, x, z) 当n>1时
3. 递归算法需要建立递推式来分析时间复杂度，因为递归调用次数与问题规模相关，需要通过递推式求解[14]。
4. 不可变类型参数（如整数）在递归调用中会自动回退，可变类型参数（如列表）需要手动回退[3]。

四、算法分析题：
1. 递推式：T(n)=1 当n=1时；T(n)=2T(n-1)+1 当n>1时。解得T(n)=2ⁿ-1=O(2ⁿ)[12]。
2. 时间复杂度：O(n)，需要递归n次；空间复杂度：O(n)，递归深度为n[11]。

五、程序设计题：
主要思路：从起点开始，尝试四个方向，如果可走则递归前进，到达终点时输出路径，回溯时恢复状态。
1. 时间复杂度：指数级，最坏情况O(4^(m×n))
2. 空间复杂度：O(m×n)，递归深度最多为迷宫大小
3. 与栈和队列的异同：递归使用系统栈，本质是深度优先搜索；显式栈也是深度优先；队列是广度优先搜索[6]。