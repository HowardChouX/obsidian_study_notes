
# 隐式转换

```c++
[[include]] <iostream>
[[include]] <string>

class Entity
{
private:
    std::string m_Name;
    int m_Age;
public:
    Entity(const std::string& name) 
        : m_Name(name),m_Age(-1){}
    Entity(int age)
        : m_Name("Unknown"),m_Age(age){}

};


```


```c++
//正常调用版本
int main()
{
    Entity a("Cherno");//隐式转换版本为 Entity a = "Cherno"
    Entity b(22);//隐式转换版本为 Entity b = 22
}
```

```c++
//隐式转换版本
Entity c = 22; 
Entity d = "Bob"; 
// 加了explicit后，这种隐式转换会报错  
// 需要显式转换：Entity d(std::string("Bob"))
```

# explicit 关键字

> 构造函数前加入explicit关键字防止隐式类型转换

```c++
[[include]] <iostream>
[[include]] <string>

class Entity
{
private:
    std::string m_Name;
    int m_Age;
public:
    // 使用explicit防止隐式转换
    explicit Entity(const std::string& name) 
        : m_Name(name), m_Age(-1) {}
    
    explicit Entity(int age)
        : m_Name("Unknown"), m_Age(age) {}
};

int main()
{
    Entity a("Cherno");  // 正确调用string参数的构造函数
    Entity b(22);        // 正确调用int参数的构造函数
    
    // Entity c = 22;    // 加了explicit后，这种隐式转换会报错
    // Entity d = "Bob"; // 需要显式转换：Entity d(std::string("Bob"))
}
```