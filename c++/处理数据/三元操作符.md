# 基础语法与本质
```c++
condition ? expr1 : expr2;
```

- **返回值类型**：两个表达式必须能隐式转换到**同一类型**（C++17放宽限制）
- **求值规则**：仅对满足条件的分支求值
- **返回值类别**：C++11起可返回左值（当两个操作数都是左值且类型相同时）

# 与if-else的核心差异

| **特性** | 三元操作符            | if-else语句   |
| ------ | ---------------- | ----------- |
| 返回值    | 产生表达式结果          | 无返回值        |
| 作用域    | 共享外层作用域          | 每个分支有独立块作用域 |
| 编译时求值  | 支持（constexpr上下文） | 仅运行时        |
| 汇编实现   | 条件移动指令（CMOV）优化   | 分支跳转指令      |
| 模板元编程  | 可用于模板元编程         | 不可用         |

# 等价示例

```c++
[[include]] <iostream>  
[[include]] <string>  
  
static int s_Level = 1;  
static int s_Speed = 2;  
  
int main()  
{  
    if (s_Level > 5)  
        s_Speed = 10;  
    else  
        s_Speed = 5;  
  
    s_Speed = s_Level > 5 ? 10 : 5 ;
	
    std::cin.get();  
}
```

```c++
//if else分支
if (s_Level > 5) {
    if (s_Level > 10) {
        s_Speed = 15;
    } else {
        s_Speed = 10;
    }
} else {
    s_Speed = 5;
}
//三元操作符的嵌套
s_Speed = s_Level > 5 ? s_Level > 10 ? 15 : 10 : 5;
```





